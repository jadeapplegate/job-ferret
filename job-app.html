<head>
  <title>job-app</title>
</head>

<body>
<!-- display these templates -->
	<!-- 	{{>githubOauth}} -->
	{{>navbar}}
	{{>addJobButton}}
	{{>addJobModal}}
	{{>pursuingModal}}
	{{>interestList}}
	{{>pursuingList}}
</body>

	<template name="navbar">
		<div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
		      </button>
		      <a class="brand" href="#">Job App</a>
		      <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#contact">Contact</a></li>
		          <li><a href="#signOut">Sign Out</a></li>
		        </ul>
		      </div>
		    </div>
		  </div>
		</div>
	</template>

<!-- on click, opens up a modal box which displays a form -->
<template name="addJobButton">
	<div class="addJob">
		<button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#addJobModal">
  		Add Job
		</button>
	</div>
</template>

<!-- modal for adding job of interest -->
<template name="addJobModal">
<div class="modal fade" id="addJobModal" tabindex="-1" role="dialog" aria-labelledby="addJobModal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="addJobModal">Add Job</h4>
      </div>
      <div class="modal-body">
      	<br>
				  <input name='company' type="text" placeholder="Company"/>
				  <input name='title' type="text" placeholder="Position Title"/>
				  <input name='link' type="text" placeholder="Link"/>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button id="addJob" type="button" class="btn btn-primary" data-dismiss="modal">Save</button>
      </div>
    </div>
  </div>
</div>
</template>

<!-- appends list of all jobs of interest -->
<template name="interestList">
	<h1>All Jobs of Interest</h1>
	{{#each jobs}}
	<div>
		<a href="{{link}}">{{title}} at {{company}}</a>
			<button class="btn btn-xs btn-danger delete" data-id={{_id}}>Delete</button>
		<!-- on click, opens up a modal box which displays a form -->
		<button class="btn btn-xs btn-primary pursue" data-id={{_id}} data-toggle="modal" data-target="#pursuingModal">Pursue</button>
	</div>
	{{/each}}
</template>

<!-- modal for showing the pursuing form -->
<template name="pursuingModal">
<div class="modal fade" id="pursuingModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Add Job</h4>
      </div>
      <div class="modal-body">
  	  <input name='link' type="text" placeholder="Link"/>
			<input name='title' type="text" placeholder="Position Title"/>
			<input name='company' type="text" placeholder="Company"/><br>
			<input name='contact_name' type="text" placeholder="Contact Name"/>
			<input name='contact_email' type="text" placeholder="Contact Email"/>
			<input name='contact_phone' type="text" placeholder="Contact Phone"/><br>
			<input name='requirements' type="text" placeholder="Requirements"/><br>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button id="addJob" type="button" class="btn btn-primary" data-dismiss="modal">Save</button>
      </div>
    </div>
  </div>
</div>
</template>

<!-- append list of all jobs pursuing -->
<template name="pursuingList">
	<h1>All Pursuing</h1>
	{{#each jobs}}
		<div>
			<a href="{{link}}">{{title}} at {{company}}</a>
			<button class="btn btn-xs btn-danger delete" data-id={{_id}}>Delete</button>
			<button class="btn btn-primary btn-lg update" data-id={{_id}}>Update</button>
		</div>
	{{/each}}
</template>

<template name="githubOauth">
	{{#if currentUser}}
		<script>console.log(currentUser)</script>
	{{else}}
	<script>console.log(currentUser)</script>
		{{> loginButtons align="right"}}
	{{/if}}
</template>
