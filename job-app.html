<head>
  <title>job-app</title>
</head>

<body>
<!-- display these templates -->
	<!-- 	{{>githubOauth}} -->
<!-- 	{{>header}} -->
	{{>addJobModal}}
	{{>pursuingModal}}
	{{>addJobButton}}
	{{>interestList}}
	{{>pursuingList}}
</body>

<!-- on click, opens up a modal box which displays a form -->
<template name="addJobButton">
	<div class="addJob">
		<button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#addJobModal">
  		Add Job
		</button>
	</div>
</template>

<!-- modal for adding job of interest -->
<template name="addJobModal">
<div class="modal fade" id="addJobModal" tabindex="-1" role="dialog" aria-labelledby="addJobModal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="addJobModal">Add Job</h4>
      </div>
      <div class="modal-body">
				  <input name='company' type="text" autofocus="true" placeholder="Company"/>
				  <input name='title' type="text" placeholder="Position Title"/><br>
				  <input name='link' type="text" placeholder="Link"/>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button id="addJob" type="button" class="btn btn-primary" data-dismiss="modal">Save</button>
      </div>
    </div>
  </div>
</div>
</template>

<!-- appends list of all jobs of interest -->
<template name="interestList">
	<h1>All Jobs of Interest</h1>
	{{#each jobs}}
		<h2><a href="{{link}}">{{title}} at {{company}}</a>
			<button class="btn btn-default btn-lg delete" data-id={{_id}}>Delete</button>
		<!-- on click, opens up a modal box which displays a form -->
	<button class="btn btn-primary btn-lg pursue" data-id={{_id}} data-toggle="modal" data-target="#pursuingModal">Pursue</button></h2>
	{{/each}}
</template>

<!-- modal for showing the pursuing form -->
<template name="pursuingModal">
<div class="modal fade" id="pursuingModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Add Job</h4>
      </div>
      <div class="modal-body">
  	  <input name='link' type="text" placeholder="Link"/>
			<input name='title' type="text" placeholder="Position Title"/>
			<input name='company' type="text" placeholder="Company"/><br>
			<input name='contact_name' type="text" placeholder="Contact Name"/>
			<input name='contact_email' type="text" placeholder="Contact Email"/>
			<input name='contact_phone' type="text" placeholder="Contact Phone"/><br>
<!-- 			<input name='salary' type="text" placeholder="Salary"/> -->
	    <div class="input-group">
	      <div class="input-group-btn">
	        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Ranges <span class="caret"></span></button>
	        <ul class="dropdown-menu">
	          <li><a href="#">$60,000</a></li>
	          <li><a href="#">$70,000</a></li>
	          <li><a href="#">$80,000</a></li>
	          <li><a href="#">$90,000</a></li>
	          <li><a href="#">$100,000</a></li>
	          <li><a href="#">$110,000</a></li>
	          <li><a href="#">Other</a></li>
	        </ul>
	      </div><!-- /btn-group -->
	      <input type="text" class="form-control">
	    </div><!-- /input-group -->
			<input name='requirements' type="text" placeholder="Requirements"/><br>
<!-- 			<textarea class="form-control" rows="3"></textarea> -->
			<input class="update" type="button" value="Update"/>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button id="addJob" type="button" class="btn btn-primary" data-dismiss="modal">Save</button>
      </div>
    </div>
  </div>
</div>
</template>

<!-- append list of all jobs pursuing -->
<template name="pursuingList">
	<h1>All Pursuing</h1>
	{{#each jobs}}
		<h2><a href="{{link}}">{{title}} at {{company}}</a>
		<button class="btn btn-default btn-lg update" data-id={{_id}}>Update</button></h2>
	{{/each}}
</template>

<template name="githubOauth">
	{{#if currentUser}}
		<script>console.log(currentUser)</script>
	{{else}}
	<script>console.log(currentUser)</script>
		{{> loginButtons align="right"}}
	{{/if}}
</template>
